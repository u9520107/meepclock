"use strict";var _inherits=require("babel-runtime/helpers/inherits")["default"],_get=require("babel-runtime/helpers/get")["default"],_createClass=require("babel-runtime/helpers/create-class")["default"],_classCallCheck=require("babel-runtime/helpers/class-call-check")["default"],_Object$defineProperty=require("babel-runtime/core-js/object/define-property")["default"],_Symbol=require("babel-runtime/core-js/symbol")["default"],_interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];_Object$defineProperty(exports,"__esModule",{value:!0});var _StoreBase2=require("meepworks/store-base"),_StoreBase3=_interopRequireDefault(_StoreBase2),_InitAudio=require("../actions/init-audio"),_InitAudio2=_interopRequireDefault(_InitAudio),_LoadAudio=require("../actions/load-audio"),_LoadAudio2=_interopRequireDefault(_LoadAudio),_PlayAudio=require("../actions/play-audio"),_PlayAudio2=_interopRequireDefault(_PlayAudio),DATA=_Symbol(),AudioStore=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rehydrate()}return _inherits(t,e),_createClass(t,[{key:"rehydrate",value:function(){this[DATA]={loaded:!1}}},{key:"dehydrate",value:function(){return null}},{key:"handleInitAudio",value:function(){this[DATA].ctx=new AudioContext}},{key:"handleLoadAudio",value:function(e){this[DATA].buffers=e,this[DATA].loaded=!0}},{key:"handlePlayAudio",value:function(e){if(this[DATA].loaded){var t=this[DATA].ctx.createBufferSource();t.buffer=this[DATA].buffers[e],t.connect(this[DATA].ctx.destination),t.start(0)}}},{key:"handlers",get:function(){return[{action:_InitAudio2["default"],handler:this.handleInitAudio},{action:_LoadAudio2["default"],handler:this.handleLoadAudio},{action:_PlayAudio2["default"],handler:this.handlePlayAudio}]}}]),t}(_StoreBase3["default"]);exports["default"]=AudioStore,module.exports=exports["default"];