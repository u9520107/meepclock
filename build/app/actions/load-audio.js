"use strict";var _inherits=require("babel-runtime/helpers/inherits")["default"],_createClass=require("babel-runtime/helpers/create-class")["default"],_classCallCheck=require("babel-runtime/helpers/class-call-check")["default"],_Object$defineProperty=require("babel-runtime/core-js/object/define-property")["default"],_Promise=require("babel-runtime/core-js/promise")["default"],_regeneratorRuntime=require("babel-runtime/regenerator")["default"],_interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];_Object$defineProperty(exports,"__esModule",{value:!0});var _ActionBase2=require("meepworks/action-base"),_ActionBase3=_interopRequireDefault(_ActionBase2),_mp3Start=require("../assets/mp3/start.mp3!asset"),_mp3Start2=_interopRequireDefault(_mp3Start),_mp3End=require("../assets/mp3/focus-end.mp3!asset"),_mp3End2=_interopRequireDefault(_mp3End),LoadAudio=function(e){function r(){_classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return _inherits(r,e),_createClass(r,[{key:"action",value:_regeneratorRuntime.mark(function t(){var e,r;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new AudioContext,t.next=3,[_mp3Start2["default"],_mp3End2["default"]].map(function(r){return new _Promise(function(t,a){var n=new XMLHttpRequest;n.open("get",r),n.responseType="arraybuffer",n.onload=function(){return 200!==n.status?a(n.status):void e.decodeAudioData(n.response,function(e){t(e)})},n.onerror=function(e){a(e)},n.send()})});case 3:return r=t.sent,t.abrupt("return",{start:r[0],end:r[1]});case 5:case"end":return t.stop()}},t,this)})}]),r}(_ActionBase3["default"]);exports["default"]=LoadAudio,module.exports=exports["default"];