"use strict";var _classCallCheck=require("babel-runtime/helpers/class-call-check")["default"],_inherits=require("babel-runtime/helpers/inherits")["default"],_createClass=require("babel-runtime/helpers/create-class")["default"],_core=require("babel-runtime/core-js")["default"],_regeneratorRuntime=require("babel-runtime/regenerator")["default"],_interopRequire=require("babel-runtime/helpers/interop-require")["default"],ActionBase=_interopRequire(require("meepworks/action-base")),mp3Start=_interopRequire(require("../assets/mp3/start.mp3!asset")),mp3End=_interopRequire(require("../assets/mp3/focus-end.mp3!asset")),LOAD_AUDIO=_core.Symbol();exports.LOAD_AUDIO=LOAD_AUDIO;var LoadAudio=function(e){function r(){_classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return _inherits(r,e),_createClass(r,{symbol:{get:function(){return LOAD_AUDIO}},action:{value:_regeneratorRuntime.mark(function t(){var e,r;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new AudioContext,t.next=3,[mp3Start,mp3End].map(function(r){return new _core.Promise(function(t,n){var a=new XMLHttpRequest;a.open("get",r),a.responseType="arraybuffer",a.onload=function(){return 200!==a.status?n(a.status):void e.decodeAudioData(a.response,function(e){t(e)})},a.onerror=function(e){n(e)},a.send()})});case 3:return r=t.sent,t.abrupt("return",{start:r[0],end:r[1]});case 5:case"end":return t.stop()}},t,this)})}},{symbol:{get:function(){return LOAD_AUDIO}}}),r}(ActionBase);exports["default"]=LoadAudio,Object.defineProperty(exports,"__esModule",{value:!0});